var IKRS=IKRS||{CREATOR:"Ikaros Kappler",DATE:"2013-11-27"};IKRS.Object=function(){};IKRS.Object.inherit=function(){};IKRS.Object.prototype={constructor:IKRS.Object,toString:function(){return"[IKRS.Object]"}};IKRS.ArraySet=function(b,a){IKRS.Object.call(this);if(b==undefined){b=[]}if(a==undefined){a={equal:function(d,c){return d==c}}}this.elements=b;this.comparator=a};IKRS.ArraySet.prototype.add=function(a){this.elements.push(a)};IKRS.ArraySet.prototype.addUnique=function(b){for(var a in this.elements){if(this.comparator.equal(b,this.elements[a])){return false}}this.elements.push(b);return true};IKRS.ArraySet.prototype.removeElementAt=function(a){delete this.elements[a]};IKRS.ArraySet.prototype.indexOf=function(b){for(var a in this.elements){if(this.comparator.equal(b,this.elements[a])){return a}}return -1};IKRS.ArraySet.prototype.constructor=IKRS.ArraySet;IKRS.RegexAttribute=function(a){IKRS.Object.call(this);this.value=a};IKRS.RegexAttribute.prototype.isInteger=function(a){return IKRS.RegexToken.isInteger(this.value,a)};IKRS.RegexAttribute.prototype.isEmpty=function(){return(this.value=="")};IKRS.RegexAttribute.prototype.constructor=IKRS.RegexAttribute;IKRS.Pattern=function(a){IKRS.Object.call(this);this.name=a;this.children=[];this.value=null;this.attributes=[]};IKRS.Pattern.prototype.getName=function(){return this.name};IKRS.Pattern.prototype.getValue=function(){return this.value};IKRS.Pattern.prototype.getChildren=function(){return this.children};IKRS.Pattern.prototype.getAttributes=function(){return this.attributes};IKRS.Pattern.prototype.constructor=IKRS.Pattern;IKRS.PushbackStringReader=function(b,a,c){IKRS.Object.call();if(typeof a=="undefined"){a=0}if(typeof c=="undefined"){c=b.length}this.stringData=b;this.startOffset=Math.max(0,a);this.maxReadLength=Math.min(c,b.length);this.position=-1;this.currentCharacter=-1;this.currentCharacterCode=-1;this.lineNumber=1;this.columnNumber=0;this._resetMark=null;this.mark()};IKRS.PushbackStringReader.prototype.reachedEOI=function(){return(this.position>=this.maxReadLength)};IKRS.PushbackStringReader.prototype.atBeginOfInput=function(){return(this.position==-1)};IKRS.PushbackStringReader.prototype.getPosition=function(){return this.position};IKRS.PushbackStringReader.prototype.getCurrentCharacter=function(){return this.currentCharacter};IKRS.PushbackStringReader.prototype.getCurrentCharacterCode=function(){return this.currentCharacterCode};IKRS.PushbackStringReader.prototype.getLineNumber=function(){return this.lineNumber};IKRS.PushbackStringReader.prototype.getColumnNumber=function(){return this.columnNumber};IKRS.PushbackStringReader.prototype.read=function(){if(this.startOffset+this.position+1>=this.startOffset+this.maxReadLength){this.currentCharacter=-1;this.currentCharacterCode=-1;return -1}this.position++;this.currentCharacter=this.stringData.charAt(this.position);this.currentCharacterCode=this.stringData.charCodeAt(this.position);if(this.currentCharacter=="\n"||this.currentCharacterCode==10||this.currentCharacterCode==13){this.lineNumber++;this.columnNumber=1}else{this.columnNumber++}return this.currentCharacter};IKRS.PushbackStringReader.prototype.unread=function(d){if(typeof d=="undefined"||d==null){d=1}if(this.position-d+1<this.startOffset){console.log("[IKRS.PushbackStringReader.unread("+d+")] Cannot unread "+d+" characters. Only "+this.position+" read so far.");return false}var a=false;while(d>0){var b=this.stringData.charAt(this.position);var c=this.stringData.charCodeAt(this.position);if(b=="\n"||c==10||c==13){this.lineNumber--;a=true}else{this.columnNumber--}this.position--;d--}if(a){this.columnNumber=this.detectCurrentLineLength()}if(this.position<0){this.currentCharacter=-1;this.currentCharacterCode=-1}else{this.currentCharacter=this.stringData.charAt(this.position);this.currentCharacterCode=this.stringData.charCodeAt(this.position)}return true};IKRS.PushbackStringReader.prototype.mark=function(){this._resetMark=this.getMark();return this._resetMark};IKRS.PushbackStringReader.prototype.getMark=function(){return{position:this.position,currentCharacter:this.currentCharacter,currentCharacterCode:this.currentCharacterCode,lineNumber:this.lineNumber,columnNumber:this.columnNumber}};IKRS.PushbackStringReader.prototype.reset=function(){this.resetTo(this._resetMark)};IKRS.PushbackStringReader.prototype.resetTo=function(a){if(a.position<-1||a.position>this.maxReadLength){return false}this.position=a.position;if(this.position<=-1||this.position>=this.maxReadLength){this.currentCharacter=-1;this.currentCharacterCode=-1}else{this.currentCharacter=this.stringData.charAt(this.startOffst+this.position);this.currentCharacterCode=this.stringData.charCodeAt(this.startOffst+this.position)}this.lineNumber=a.lineNumber;this.columnNumber=a.columnNumber;return true};IKRS.PushbackStringReader.prototype.available=function(){return this.maxReadLength-this.position-1};IKRS.PushbackStringReader.prototype.extractFromString=function(a,b){if(b.position-a.position<1){return""}else{return this.stringData.substring(a.position+1,b.position+1)}};IKRS.PushbackStringReader.prototype._detectCurrentLineLength=function(){var a=this.position;var d=-1;var b=-1;do{d=this.stringData.charAt(a);b=this.stringData.charCodeAt(a);a--}while(a>=0&&!this._isLineBreak(character,characterCode));return(this.position-a)};IKRS.PushbackStringReader.prototype._isLineBreak=function(b,a){return(b=="\n"||b=="\r"||a==10||a==13)};IKRS.PushbackStringReader.prototype.toString=function(){var a=this.stringData.substr(0,32);if(a.length<this.stringData.length){a+="[..."+(this.stringData.length()-a.length())+" more char(s)...]"}return"[IKRS.PushbackStringReader]={ stringData="+a+", startOffset="+this.startOffset+", maxReadLength="+this.maxReadLength+", position="+this.position+", this.currentCharacter="+this.currentCharacter+" }"};IKRS.PushbackStringReader.prototype.constructor=IKRS.PushbackStringReader;IKRS.StringBuffer=function(a){Object.call(this);this.buffer=Array();this.length=0;if(a){this.append(a)}};IKRS.StringBuffer.prototype.getLength=function(){return this.length};IKRS.StringBuffer.prototype.append=function(a){if(typeof a=="undefined"){return this.append("undefined")}else{var b=new String(a);this.buffer.push(a);this.length+=b.length}};IKRS.StringBuffer.prototype.toString=function(){return this.buffer.join("")};IKRS.StringBuffer.prototype.constructor=IKRS.StringBuffer;IKRS.RegexToken=function(g,f,a,d,c,e,b){IKRS.Object.call();this.value=g;this.rawValue=f;this.isOperator=a;this.isConstant=d;this.isEscaped=c;this.inputStartOffset=e;this.inputEndOffset=b};IKRS.RegexToken.KLEENESTERN="*";IKRS.RegexToken.KLEENENOTEMPTY="+";IKRS.RegexToken.OPENINGBRACKET="(";IKRS.RegexToken.CLOSINGBRACKET=")";IKRS.RegexToken.SETSTART="[";IKRS.RegexToken.SETEND="]";IKRS.RegexToken.RANGE="-";IKRS.RegexToken.INTERSECTION="&&";IKRS.RegexToken.UNION="|";IKRS.RegexToken.EXCEPT="^";IKRS.RegexToken.BEGIN_OF_INPUT="^";IKRS.RegexToken.END_OF_INPUT="$";IKRS.RegexToken.ANY_CHARACTER=".";IKRS.RegexToken.QUANTIFYING_START="{";IKRS.RegexToken.QUANTIFYING_END="}";IKRS.RegexToken.QUANTIFYING_QUESTIONMARK="?";IKRS.RegexToken.prototype.getCharacterCode=function(){if(this.value.length==0){return -1}else{return this.value.charCodeAt(0)}};IKRS.RegexToken.prototype.isQuantifyingOperator=function(){return(this.isOperator&&(this.value=="*"||this.value=="+"||this.value=="{"||this.value=="}"||this.value=="?"))};IKRS.RegexToken.prototype.isSpecialCharacter=function(){return(!this.isEscaped&&(this.value=="."||this.value=="^"||this.value=="$"))||(this.isEscaped&&(this.value=="d"||this.value=="D"||this.value=="s"||this.value=="S"||this.value=="w"||this.value=="W"))};IKRS.RegexToken.prototype.isBeginOfInputCharacter=function(){return(!this.isEscaped&&this.value=="^")};IKRS.RegexToken.prototype.isEndOfInputCharacter=function(){return(!this.isEscaped&&this.value=="$")};IKRS.RegexToken.prototype.isWildcardCharacter=function(){return(!this.isEscaped&&this.value==".")};IKRS.RegexToken.prototype.isDigitClassCharacter=function(){return(this.isEscaped&&this.value=="d")};IKRS.RegexToken.prototype.isNonDigitClassCharacter=function(){return(this.isEscaped&&this.value=="D")};IKRS.RegexToken.prototype.isWhitespaceClassCharacter=function(){return(this.isEscaped&&this.value=="s")};IKRS.RegexToken.prototype.isNonWhitespaceClassCharacter=function(){return(this.isEscaped&&this.value=="S")};IKRS.RegexToken.prototype.isWordClassCharacter=function(){return(this.isEscaped&&this.value=="w")};IKRS.RegexToken.prototype.isNonWordClassCharacter=function(){return(this.isEscaped&&this.value=="W")};IKRS.RegexToken.prototype.isUnionOperator=function(){return(this.isOperator&&this.value=="|")};IKRS.RegexToken.prototype.isQuantifyingStartOperator=function(){return(this.isOperator&&this.value=="{")};IKRS.RegexToken.prototype.isQuantifyingEndOperator=function(){return(this.isOperator&&this.value=="}")};IKRS.RegexToken.prototype.isQuestionMarkOperator=function(){return(this.isOperator&&this.value=="?")};IKRS.RegexToken.prototype.isSternOperator=function(){return(this.isOperator&&this.value=="*")};IKRS.RegexToken.prototype.isPlusOperator=function(){return(this.isOperator&&this.value=="+")};IKRS.RegexToken.prototype.isSetStartOperator=function(){return(this.isOperator&&this.value=="[")};IKRS.RegexToken.prototype.isSetEndOperator=function(){return(this.isOperator&&this.value=="]")};IKRS.RegexToken.prototype.isClosingBracketOperator=function(){return(this.isOperator&&this.value==")")};IKRS.RegexToken.prototype.isOpeningBracketOperator=function(){return(this.isOperator&&this.value=="(")};IKRS.RegexToken.prototype.isRangeOperator=function(){return(this.isOperator&&this.value=="-")};IKRS.RegexToken.prototype.isAndOperator=function(){return(this.isOperator&&this.value=="&&")};IKRS.RegexToken.prototype.isWhitespace=function(){return(!this.isEscaped&&(this.value==" "||this.value=="\n"||this.value=="\t"||this.value=="\b"||this.value=="\f"))};IKRS.RegexToken.prototype.isExceptOperator=function(){return(this.isOperator&&this.value=="^")};IKRS.RegexToken.isInteger=function(b,c){if(b==null||b.length==0){return false}for(var a=0;a<b.length;a++){if(a==0&&b.charAt(a)=="-"&&!c){return false}if((a!=0||b.charAt(a)!="-")&&!IKRS.RegexToken.isDecimalDigitCharacter(b.charAt(a))){return false}}return true};IKRS.RegexToken.isHexadecimal=function(b){for(var a=0;a<b.length;a++){if(!IKRS.RegexToken.isHexadecimalCharacter(b.charAt(a))){return false}}return true};IKRS.RegexToken.isOctal=function(b){for(var a=0;a<b.length;a++){if(!IKRS.RegexToken.isOctalCharacter(b.charAt(a))){return false}}return true};IKRS.RegexToken.prototype.toString=function(){return"[IKRS.RegexToken]={ value="+this.value+", rawValue="+this.rawValue+", isOperator="+this.isOperator+", isConstant="+this.isConstant+", isEscaped="+this.isEscaped+", inputStart="+this.inputStartOffset+", inputEnd="+this.inputEndOffset+" }"};IKRS.RegexToken.isDecimalDigitCharacter=function(a){return(a=="0"||a=="1"||a=="2"||a=="3"||a=="4"||a=="5"||a=="6"||a=="7"||a=="8"||a=="9")};IKRS.RegexToken.isOctalDigitCharacter=function(a){return(a=="0"||a=="1"||a=="2"||a=="3"||a=="4"||a=="5"||a=="6"||a=="7")};IKRS.RegexToken.isHexadecimalCharacter=function(a){return(IKRS.RegexToken.isDecimalDigitCharacter(a)||a=="A"||a=="a"||a=="B"||a=="b"||a=="C"||a=="c"||a=="D"||a=="d"||a=="E"||a=="e"||a=="F"||a=="f")};IKRS.Object.prototype.contructor=IKRS.RegexToken;IKRS.RegexTokenizer=function(a){IKRS.Object.call(this);this.pushbackReader=a;this.currentToken=null;this.peekToken=null;this.firstCall=true};IKRS.RegexTokenizer.prototype._setCurrentToken=function(a){this.currentToken=this.peekToken;this.peekToken=a;return this.currentToken};IKRS.RegexTokenizer.prototype.reachedEOI=function(){return(this.currentToken==null)};IKRS.RegexTokenizer.prototype.peek=function(){return this.peekToken};IKRS.RegexTokenizer.prototype.nextToken=function(){if(this.firstCall){this.firstCall=false;this.nextToken()}do{this._nextTokenWhitespaceAllowed()}while(!this.reachedEOI()&&this.currentToken.isWhitespace());return this.currentToken};IKRS.RegexTokenizer.prototype._nextTokenWhitespaceAllowed=function(){var b=this.pushbackReader.read();if(b==-1){return this._setCurrentToken(null)}if(b=="\\"){return this._readEscaped(b)}else{if(b=="*"||b=="+"||b=="("||b==")"||b=="["||b=="]"||b=="|"||b=="{"||b=="}"||b=="?"){return this._setCurrentToken(new IKRS.RegexToken(b,b,true,false,false,this.pushbackReader.position,this.pushbackReader.position+1))}else{if(b=="-"||b=="^"){return this._setCurrentToken(new IKRS.RegexToken(b,b,true,true,false,this.pushbackReader.position,this.pushbackReader.position+1))}else{if(b=="-"||b=="$"){return this._setCurrentToken(new IKRS.RegexToken(b,b,false,true,false,this.pushbackReader.position,this.pushbackReader.position+1))}else{if(b=="&"){var a=this.pushbackReader.read();if(a=="&"){return this._setCurrentToken(new IKRS.RegexToken("&&","&&",true,false,false,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a!=-1){this.pushbackReader.unread(1)}return this._setCurrentToken(new IKRS.RegexToken(b,b,false,true,false,this.pushbackReader.position,this.pushbackReader.position+1))}}else{return this._setCurrentToken(new IKRS.RegexToken(b,b,false,true,false,this.pushbackReader.position,this.pushbackReader.position+1))}}}}}};IKRS.RegexTokenizer.prototype._readEscaped=function(b){var a=this.pushbackReader.read();if(a==-1){this._throwParseException("EOI reached where escaped symbol is expected.")}if(a=="\\"){return this._setCurrentToken(new IKRS.RegexToken(a,b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="t"){return this._setCurrentToken(new IKRS.RegexToken("\t",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="n"){return this._setCurrentToken(new IKRS.RegexToken("\n",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="b"){return this._setCurrentToken(new IKRS.RegexToken("\b",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="f"){return this._setCurrentToken(new IKRS.RegexToken("\f",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="r"){return this._setCurrentToken(new IKRS.RegexToken("\r",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="f"){return this._setCurrentToken(new IKRS.RegexToken("\f",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="a"){return this._setCurrentToken(new IKRS.RegexToken("a",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="e"){return this._setCurrentToken(new IKRS.RegexToken("e",b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}else{if(a=="x"){return this._readEscapedASCIIChar(b+a)}else{if(a=="u"){return this._readEscapedUnicodeChar(b+a)}else{if(a=="0"){return this._readEscapedOctalChar(b+a)}else{return this._setCurrentToken(new IKRS.RegexToken(a,b+a,false,true,true,this.pushbackReader.position-1,this.pushbackReader.position+1))}}}}}}}}}}}}};IKRS.RegexTokenizer.prototype._readEscapedASCIIChar=function(e){if(this.pushbackReader.available()<2){this._setCurrentToken(null);this._throwParseException("ASCII character code expected. Found EOI.")}var a=this.pushbackReader.read();var f=this.pushbackReader.read();var b=a+f;if(!IKRS.RegexToken.isHexadecimal(b)){this._throwParseException("Not a valid ASCII number: '"+b+"'")}var c=parseInt(b,16);var d=String.fromCharCode(c);return this._setCurrentToken(new IKRS.RegexToken(d,e+code,false,true,true,this.pushbackReader.position-3,this.pushbackReader.position+1))};IKRS.RegexTokenizer.prototype._readEscapedUnicodeChar=function(e){if(this.pushbackReader.available()<4){this._setCurrentToken(null);this._throwParseException("Unicode character code expected. Found EOI.")}var a=this.pushbackReader.read();var h=this.pushbackReader.read();var g=this.pushbackReader.read();var f=this.pushbackReader.read();var b=a+h+g+f;if(!IKRS.RegexToken.isHexadecimal(b)){this._throwParseException("Not a valid unicode number: '"+b+"'")}var c=parseInt(b,16);var d=String.fromCharCode(c);return this._setCurrentToken(new IKRS.RegexToken(d,e+b,false,true,true,this.pushbackReader.position-5,this.pushbackReader.position+1))};IKRS.RegexTokenizer.prototype._readEscapedOctalChar=function(e){if(this.pushbackReader.available()<3){this._setCurrentToken(null);this._throwParseException("Octal character code expected. Found EOI.")}var a=this.pushbackReader.read();var g=this.pushbackReader.read();var f=this.pushbackReader.read();var b=a+g+f;if(a!="0"&&a!="1"&&a!="2"&&a!="3"){this._throwParseException("Not a valid octal number: '"+b+"'")}if(!IKRS.RegexToken.isOctal(g)||!IKRS.RegexToken.isOctal(f)){this._throwParseException("Not a valid octal number: '"+b+"'")}var c=parseInt(hexCode,8);var d=String.fromCharCode(c);return this._setCurrentToken(new IKRS.RegexToken(d,e+code,false,true,true,this.pushbackReader.position-4,this.pushbackReader.position+1))};IKRS.RegexTokenizer.prototype._throwParseException=function(a){throw new IKRS.ParseException(a,this.pushbackReader.position,this.pushbackReader.position+1)};IKRS.RegexTokenizer.prototype.constructor=IKRS.RegexParser;IKRS.RegexParser=function(a){IKRS.Object.call(this);this.tokenizer=a;this.warnings=[]};IKRS.RegexParser.prototype.parse=function(){this.warnings=[];this.tokenizer.nextToken();return this.regex()};IKRS.RegexParser.prototype.regex=function(){var a=this.term();if(this.tokenizer.currentToken!=null&&this.tokenizer.currentToken.isUnionOperator()){this.tokenizer.nextToken();var b=this.regex();return new IKRS.RegexUnion(a,b)}else{return a}};IKRS.RegexParser.prototype.term=function(){var a=null;while(this.tokenizer.currentToken!=null&&!this.tokenizer.currentToken.isClosingBracketOperator()&&!this.tokenizer.currentToken.isSetEndOperator()&&!this.tokenizer.currentToken.isUnionOperator()){var b=this.factor();if(a!=null){a=new IKRS.RegexConcatenation(a,b)}else{a=b}}return a};IKRS.RegexParser.prototype.factor=function(){var a=this.base();while(this.tokenizer.currentToken!=null&&this.tokenizer.currentToken.isQuantifyingOperator()){a=this._readQuantifyingRule(a);this.tokenizer.nextToken()}return a};IKRS.RegexParser.prototype.base=function(){if(this.tokenizer.currentToken.isOpeningBracketOperator()){if(this.tokenizer.peek()!=null&&!this.tokenizer.peek().isEscaped&&this.tokenizer.peek().value=="?"){this.warnings.push("Capturing expressions ('?') not implemented. Handling as character expression.")}this.tokenizer.nextToken();var c=this.regex();this.tokenizer.nextToken();return c}else{if(this.tokenizer.currentToken.isSetStartOperator()){var b=this._readCharacterSet(false);this.tokenizer.nextToken();return b}else{if(this.tokenizer.currentToken.isSpecialCharacter()){var a=IKRS.RegexSpecialCharacter.createFromToken(this.tokenizer.currentToken);this.tokenizer.nextToken();return a}else{if(this.tokenizer.peek()!=null&&this.tokenizer.peek().isQuantifyingOperator()){var c;if(this.tokenizer.currentToken.isSpecialCharacter()){c=IKRS.RegexSpecialCharacter.createFromToken(this.tokenizer.currentToken)}else{c=new IKRS.RegexCharacter(this.tokenizer.currentToken)}this.tokenizer.nextToken();return c}else{var e=new IKRS.TokenSequence();var d=new IKRS.RegexConcatenation();while((this.tokenizer.peek()==null||!this.tokenizer.peek().isQuantifyingOperator())&&this.tokenizer.currentToken!=null&&!this.tokenizer.currentToken.isOperator){if(this.tokenizer.currentToken.isSpecialCharacter()){if(e.tokens.length==1){d.addRegex(new IKRS.RegexCharacter(e.tokens[0]))}else{if(e.tokens.length>1){d.addRegex(new IKRS.RegexConstant(e))}}e=new IKRS.TokenSequence();d.addRegex(IKRS.RegexSpecialCharacter.createFromToken(this.tokenizer.currentToken))}else{e.add(this.tokenizer.currentToken)}this.tokenizer.nextToken()}if(e.tokens.length>0){d.addRegex(new IKRS.RegexConstant(e))}if(d.children.length==1){return d.children[0]}else{return d}}}}}};IKRS.RegexParser.prototype._readQuantifyingRule=function(a){var c=0;var e=Number.POSITIVE_INFINITY;var f=0;if(this.tokenizer.currentToken.isSternOperator()){e=Number.POSITIVE_INFINITY}else{if(this.tokenizer.currentToken.isPlusOperator()){c=1}else{if(this.tokenizer.currentToken.isQuestionMarkOperator()){c=0;e=1}else{if(this.tokenizer.currentToken.isQuantifyingStartOperator()){this.__readAttributeList(a);if(a.attributes.length>0&&a.attributes[0].isInteger(true)){f=1;c=parseInt(a.attributes[0].value);if(c<0){this.warnings.push("minCount "+c+" is negative.")}if(a.attributes.length>1){if(a.attributes[1].isInteger(true)){f=2;e=parseInt(a.attributes[1].value);if(e<c){this.warnings.push("Maxcount "+e+" is smaller than minCount "+c+".")}}else{e=Number.POSITIVE_INFINITY}}else{e=c}}for(var b=f;b<a.attributes.length;b++){if(a.attributes[b].isEmpty()){this.warnings.push("Quantifyer arrtibute at index "+b+" not supported.")}else{this.warnings.push("Quantifyer arrtibute at index "+b+" not supported: '"+a.attributes[b].value+"'.")}}}else{this._throwParseException("Unexpected operator at quantifyer start: '"+this.tokenizer.currentToken.value+"'.")}}}}var d=null;if(c==1&&e==1){d=a}else{d=new IKRS.RegexQuantifyer(a,c,e)}return d};IKRS.RegexParser.prototype._readCharacterSet=function(m){if(this.tokenizer.reachedEOI()){this._throwParseException("Cannot read character set. Operator '[' expected, found instead: EOI.")}if(!this.tokenizer.currentToken.isSetStartOperator()){this._throwParseException("Cannot read character set. Operator '[' expected, found instead: '"+this.tokenizer.currentToken.value+"'.")}var g=0;var f=m;var k=this.tokenizer.nextToken();if(k==null){this._throwParseException("EOI reached but character set definition expected.")}if(k.isExceptOperator()){f=!f;k=this.tokenizer.nextToken()}var j=null;var d=[];var b=[];var e=new IKRS.RegexUnion(null,null);var l=null;var c=false;while(l==null&&!c&&(j=this.tokenizer.nextToken())!=null&&(k==null||!k.isSetEndOperator())){if(k==null){}else{if(k.isOperator){this._throwParseException("Operator '"+k.value+"' not allowed here.")}else{if(j.isRangeOperator()){var h=this.tokenizer.nextToken();if(h==null){this._throwParseException("Unexpected EOI after range operator '"+j.value+"'.")}if(h.isOperator){this._throwParseException("Constant value expected after range operator '"+j.value+"'. Found instead '"+h.value+"' (operator).")}if(k.isSpecialCharacter()){throw new IKRS.ParseException("Special character '"+k.value+"' not allowed in ranges.",k.inputStartOffset,k.inputEndOffset)}if(j.isSpecialCharacter()){throw new IKRS.ParseException("Special character '"+j.value+"' not allowed in ranges.",k.inputStartOffset,k.inputEndOffset)}var o=new IKRS.RegexCharacterRange(f,k,h);b.push(o);e.children.push(o);j=this.tokenizer.nextToken()}else{if(k.isSpecialCharacter()){this._throwParseException("Special character '"+k.value+"' not allowed in ranges.")}var a=new IKRS.RegexCharacter(k);d.push(k)}}}if(j.isAndOperator()){this.tokenizer.nextToken();l=this._readCharacterSet(f);j=this.tokenizer.currentToken}if(j.isSetEndOperator()){c=true}k=j;g++}if(d.length!=0){var n=new IKRS.RegexCharacterSet(f,d);e.children.push(n)}if(e.children.length==0){this._throwParseException("Empty character set not allowed.")}var p=null;if(e.children.length==1){p=e.children[0]}else{p=e}if(l!=null){p=new IKRS.RegexIntersection(p,l)}if(k==null){this._throwParseException("EOI reached where end-of-set ']' is expected.")}if(!k.isSetEndOperator()){this._throwParseException("Unexpected token '"+k.value+"' reached, where end-of-set ']' is expected.")}return p};IKRS.RegexParser.prototype._readUnion=function(){if(this.tokenizer.nextToken()==null){this._throwParseException("Unexpected EOI after union operator '|'.")}var a=this.currentRegex;var b=this._read();var c=new IKRS.RegexUnion(a,b);this.currentRegex=c;return c};IKRS.RegexParser.prototype._readConstant=function(b){var a=new IKRS.TokenSequence();a.add(this.tokenizer.currentToken);while(this.tokenizer.nextToken()!=null&&this.tokenizer.currentToken.isConstant&&(b||this.tokenizer.currentToken.value!="-")&&!this.tokenizer.currentToken.isSpecialCharacter()){a.add(this.tokenizer.currentToken)}this.currentRegex=new IKRS.RegexConstant(a);while(!this.tokenizer.reachedEOI()&&this.tokenizer.currentToken.isQuantifyingOperator()){this._read()}return this.currentRegex};IKRS.RegexParser.prototype.__readAttributeList=function(a){var e=new IKRS.StringBuffer();var d=[];var c=null;var b=false;while((c=this.tokenizer.nextToken())!=null&&!c.isQuantifyingEndOperator()){if(c.isQuantifyingStartOperator()){this._throwParseException("Could not read quantifyer/attribute list. Unexpected '{' operator.")}if(c.value==","){a.attributes.push(new IKRS.RegexAttribute(e.toString().replace(/^\s+|\s+$/g,"")));e=new IKRS.StringBuffer();b=true}else{e.append(c.value);b=false}}if(e.length>0||b){a.attributes.push(new IKRS.RegexAttribute(e.toString().replace(/^\s+|\s+$/g,"")))}if(this.tokenizer.reachedEOI()){this._throwParseException("EOI reached when reading quantifyer/attribute list. Missing end-of-attributes '}' operator.")}if(!this.tokenizer.currentToken.isQuantifyingEndOperator()){this._throwParseException("Could not read quantifyer/attribute list. Missing end-of-attributes '}' operator.")}};IKRS.RegexParser.prototype._throwParseException=function(a){throw new IKRS.ParseException(a,this.tokenizer.pushbackReader.position,this.tokenizer.pushbackReader.position+1)};IKRS.RegexParser.prototype.constructor=IKRS.RegexParser;IKRS.TokenSequence=function(){IKRS.Object.call(this);this.tokens=[]};IKRS.TokenSequence.prototype.add=function(a){this.tokens.push(a)};IKRS.TokenSequence.prototype.toString=function(){var b=new IKRS.StringBuffer();for(var a=0;a<this.tokens.length;a++){if(this.tokens[a].isEscaped){b.append(this.tokens[a].rawValue)}else{b.append(this.tokens[a].value)}}return b.toString()};IKRS.TokenSequence.prototype.constructor=IKRS.TokenSequence;IKRS.ParseException=function(c,a,b){IKRS.Object.call(this);this.errorMessage=c;this.startOffset=a;this.endOffset=b};IKRS.ParseException.prototype.constructor=IKRS.ParseException;IKRS.MatchResult=function(b,d,a,c){IKRS.Object.call(this);this.matchStatus=b;this.matchLength=d;this.beginMark=a;this.endMark=c};IKRS.MatchResult.STATUS_COMPLETE=0;IKRS.MatchResult.STATUS_FAIL=1;IKRS.MatchResult.status2name=function(a){switch(a){case IKRS.MatchResult.STATUS_COMPLETE:return"COMPLETE";case IKRS.MatchResult.STATUS_FAIL:return"FAIL";default:return"UNKNOWN("+a+")"}};IKRS.MatchResult.prototype.toString=function(){return"[IKRS.MatchResult]={ matchStatus="+IKRS.MatchResult.status2name(this.matchStatus)+", matchLength="+this.matchLength+", matchBeginPosition="+this.beginMark.position+", matchEndPosition="+this.endMark.position+" }"};IKRS.MatchResult.prototype.constructor=IKRS.MatchResult;IKRS.Analyzer=function(){IKRS.Object.call(this);this.rules=[]};IKRS.Analyzer.prototype.addRule=function(c,d,e,b){if(typeof d=="string"){var f=new IKRS.RegexParser(new IKRS.RegexTokenizer(new IKRS.PushbackStringReader(d)));var a=f.parse();if(a==null){throw"Cannot add empty regex expressions to the analyzer's rule list."}this._addRule(c,a,e,b);return true}else{if(typeof d=="object"&&typeof d.match=="function"){this._addRule(c,d,e,b)}else{throw"Cannot add a non-string/non-regexp to this analyzer."}}};IKRS.Analyzer.prototype._addRule=function(b,c,d,a){this.rules.push({name:b,regex:c,action:d,callbackParams:a});return true};IKRS.Analyzer.prototype.nextMatch=function(g,f){var e=g.getMark();var k=[];var a=0;for(var d=0;d<this.rules.length&&(!f||a==0);d++){g.resetTo(e);var b=this.rules[d].regex.match(g);var c=IKRS.Analyzer._getLongestMatch(b,false);k.push(c);if(c!=null){a++}}var h=IKRS.Analyzer._locateLongestMatch(k,true);if(h!=-1&&this.rules[h].action!=null){c=k[h];var j=g.extractFromString(c.beginMark,c.endMark);g.resetTo(c.endMark);this.rules[h].action(this.rules[h].name,j,c,this.rules[h].callbackParams);return c}else{return null}};IKRS.Analyzer._getLongestMatch=function(a,c){var b=IKRS.Analyzer._locateLongestMatch(a,c);if(b==-1){return null}else{return a[b]}};IKRS.Analyzer._locateLongestMatch=function(a,e){var b=-1;var d=-1;for(var c=0;c<a.length;c++){if(a[c]!=null&&a[c].matchStatus==IKRS.MatchResult.STATUS_COMPLETE&&(e||a[c].matchLength>d)){b=c;d=a[c].matchLength}}return b};IKRS.Analyzer.prototype.constructor=IKRS.Analyzer;IKRS.RegexConstant=function(a){IKRS.Pattern.call(this,"CONSTANT["+a.toString()+"]");this.tokenSequence=a};IKRS.RegexConstant.prototype.match=function(a){var b=a.getMark();for(var e=0;e<this.tokenSequence.tokens.length;e++){var d=this.tokenSequence.tokens[e];var f=a.read();if(f==-1){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,e,b,a.getMark())]}else{if(f!=d.value){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,e,b,a.getMark())]}}}return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,this.tokenSequence.tokens.length,b,a.getMark())]};IKRS.RegexConstant.prototype.toString=function(){return this.tokenSequence.toString()};IKRS.RegexConstant.prototype.constructor=IKRS.RegexConstant;IKRS.RegexConstant.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexConstant.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexConstant.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexConstant.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexUnion=function(a,b){IKRS.Pattern.call(this,"UNION");if(a!=null){this.children.push(a)}if(b!=null){this.children.push(b)}};IKRS.RegexUnion.prototype.match=function(b){var c=b.getMark();var a=[];for(var d=0;d<this.children.length;d++){b.resetTo(c);var g=this.children[d].match(b);for(var f=0;f<g.length;f++){if(g[f].matchStatus!=IKRS.MatchResult.STATUS_COMPLETE){continue}a.push(g[f])}}return a};IKRS.RegexUnion.prototype.toString=function(){var b="(";for(var a=0;a<this.children.length;a++){if(a>0){b+="|"}b+=this.children[a].toString()}b+=")";return b};IKRS.RegexUnion.prototype.constructor=IKRS.RegexUnion;IKRS.RegexUnion.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexUnion.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexUnion.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexUnion.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexIntersection=function(a,b){IKRS.Pattern.call(this,"INTERSECTION");if(a!=null){this.children.push(a)}if(b!=null){this.children.push(b)}};IKRS.RegexIntersection.prototype.match=function(e){var g=e.getMark();if(this.children.length==0){return[]}var d=this.children[0].match(e);if(d.length==0){return[]}for(var h=1;h<this.children.length;h++){var j=[];e.resetTo(g);var k=this.children[h].match(e);for(var f=0;f<d.length;f++){if(d[f].matchStatus!=IKRS.MatchResult.STATUS_COMPLETE){continue}for(var c=0;c<k.length;c++){if(k[c].matchStatus!=IKRS.MatchResult.STATUS_COMPLETE){continue}if(d[f].matchLength!=k[c].matchLength){continue}j.push(d[f])}}d=j}return d};IKRS.RegexIntersection.prototype.toString=function(){var b="(";for(var a=0;a<this.children.length;a++){if(a>0){b+="&&"}b+=this.children[a]}b+=")";return b};IKRS.RegexIntersection.prototype.constructor=IKRS.RegexIntersection;IKRS.RegexIntersection.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexIntersection.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexIntersection.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexIntersection.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexQuantifyer=function(a,b,c){IKRS.Pattern.call(this,"QUANTIFYER{"+b+","+c+"}");this.baseRegex=a;this.minCount=b;this.maxCount=c;this.children.push(a)};IKRS.RegexQuantifyer.prototype.match=function(g){var f=g.getMark();var d=0;var j;var b;var l=new IKRS.ArraySet([],{equal:function(e,c){return(e.matchStatus==c.matchStatus&&e.beginMark.position&&c.beginMark.position&&e.matchLength==c.matchLength)}});var k=this.baseRegex.match(g);if(this.minCount==0){l.addUnique(new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,0,f,f))}while(d<k.length){if(k[d].matchStatus==IKRS.MatchResult.STATUS_COMPLETE){if((d+1)>=this.minCount&&(d+1)<=this.maxCount){l.addUnique(new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,k[d].endMark.position-f.position,f,k[d].endMark))}if(!g.resetTo(k[d].endMark)){throw"[IKRS.RegexQuantifyer.match(...)] Failed to set read position to "+k[d].endMark.position+"."}var a=this.baseRegex.match(g);for(var h=0;h<a.length;h++){if(a[h].matchStatus==IKRS.MatchResult.STATUS_COMPLETE&&a[h].matchLength>0){k.push(a[h])}}}d++}return l.elements};IKRS.RegexQuantifyer.prototype.toString=function(){if(this.maxCount==Number.POSITIVE_INFINITY){if(this.minCount==0){return"("+this.baseRegex.toString()+"*)"}else{if(this.minCount==1){return"("+this.baseRegex.toString()+"+)"}else{return"("+this.baseRegex.toString()+"{"+this.minCount+",})"}}}else{if(this.maxCount==this.minCount){return"("+this.baseRegex.toString()+"{"+this.minCount+"})"}else{return"("+this.baseRegex.toString()+"{"+this.minCount+","+this.maxCount+"})"}}};IKRS.RegexQuantifyer.prototype.constructor=IKRS.RegexQuantifyer;IKRS.RegexQuantifyer.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexQuantifyer.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexQuantifyer.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexQuantifyer.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexConcatenation=function(a,b){IKRS.Pattern.call(this,"CONCATENATION");if(a!=null){this.children.push(a)}if(b!=null){this.children.push(b)}};IKRS.RegexConcatenation.prototype.match=function(b){var c=b.getMark();if(this.children.length==0){return[]}var a=[];var e=this.children[0].match(b);for(var d=1;d<this.children.length;d++){a=this._matchRight(b,c,e,d);e=a}return a};IKRS.RegexConcatenation.prototype._matchRight=function(b,c,h,j){var a=[];for(var g=0;g<h.length;g++){if(h[g].matchStatus!=IKRS.MatchResult.STATUS_COMPLETE){continue}b.resetTo(h[g].endMark);var i=this.children[j].match(b);for(var d=0;d<i.length;d++){if(i[d].matchStatus!=IKRS.MatchResult.STATUS_COMPLETE){continue}a.push(new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,i[d].endMark.position-c.position,c,i[d].endMark))}}return a};IKRS.RegexConcatenation.prototype.toString=function(){var b=new IKRS.StringBuffer();b.append("(");for(var a=0;a<this.children.length;a++){b.append(this.children[a].toString())}b.append(")");return b.toString()};IKRS.RegexConcatenation.prototype.addRegex=function(a){this.children.push(a)};IKRS.RegexConcatenation.prototype.constructor=IKRS.RegexConcatenation;IKRS.RegexConcatenation.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexConcatenation.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexConcatenation.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexConcatenation.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexCharacter=function(a){IKRS.Pattern.call(this,"CHARACTER["+a.value+"]");this.token=a};IKRS.RegexCharacter.prototype.match=function(a){var b=a.getMark();var d=a.read();if(d==-1){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}else{if(d!=this.token.value){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}else{return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,b,a.getMark())]}}};IKRS.RegexCharacter.prototype.toString=function(){if(this.token.isEscaped){return this.token.rawValue}else{return this.token.value}};IKRS.RegexCharacter.prototype.constructor=IKRS.RegexCharacter;IKRS.RegexCharacter.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexCharacter.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexCharacter.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexCharacter.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexCharacterSet=function(a,b){IKRS.Pattern.call(this,"SET[...]");this.negate=a;if(b!=null){this.characters=b}else{this.characters=[]}};IKRS.RegexCharacterSet.prototype.addCharacter=function(a){this.characters.push(a)};IKRS.RegexCharacterSet.prototype.match=function(a){var b=a.getMark();var f=a.read();if(f==-1){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}else{if(this.negate){for(var e=0;e<this.characters.length;e++){var d=this.characters[e];if(d.value==f){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}}return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,b,a.getMark())]}else{for(var e=0;e<this.characters.length;e++){var d=this.characters[e];if(d.value==f){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,b,a.getMark())]}}return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}}};IKRS.RegexCharacterSet.prototype.toString=function(){var b="[";if(this.negate){b+="^"}for(var a=0;a<this.characters.length;a++){if(this.characters[a].isEscaped){b+=this.characters[a].rawValue}else{b+=this.characters[a].value}}b+="]";return b};IKRS.RegexCharacterSet.prototype.getName=function(){var b="SET[";if(this.negate){b+="NOT "}for(var a=0;a<this.characters.length;a++){if(a>0){b+=" "}if(this.characters[a].isEscaped){b+=this.characters[a].rawValue}else{b+=this.characters[a].value}}b+="]";return b};IKRS.RegexCharacterSet.prototype.constructor=IKRS.RegexCharacterSet;IKRS.RegexCharacterSet.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexCharacterSet.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexCharacterSet.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexCharacterRange=function(b,c,a){IKRS.Pattern.call(this,"RANGE["+(b?"NOT ":"")+c.value+"-"+a.value+"]");this.negate=b;this.startSymbol=c;this.endSymbol=a};IKRS.RegexCharacterRange.prototype.match=function(a){var b=a.getMark();var f=a.read();if(f==-1){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}else{var d=f.charCodeAt(0);var e=(this.startSymbol.getCharacterCode()<=d&&d<=this.endSymbol.getCharacterCode());if((this.negate&&!e)||(!this.negate&&e)){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,b,a.getMark())]}else{return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}}};IKRS.RegexCharacterRange.prototype.toString=function(){var a="[";if(this.negate){a+="^"}a+=this.startSymbol.value+"-"+this.endSymbol.value;a+="]";return a};IKRS.RegexCharacterRange.prototype.constructor=IKRS.RegexCharacterRange;IKRS.RegexCharacterRange.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexCharacterRange.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexCharacterRange.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexCharacterRange.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexSpecialCharacter=function(b,a){IKRS.Pattern.call(this,(a==null?"SPECIAL["+b.rawValue+"]":a));this.token=b};IKRS.RegexSpecialCharacter.prototype.match=function(a){throw"[IKRS.RegexSpecialCharacter.match(...)] This class is abstract and the 'match' function must be overridden by its subclasses before it can be used."};IKRS.RegexSpecialCharacter.prototype.toString=function(){if(this.token.isEscaped){return this.token.rawValue}else{return this.token.value}};IKRS.RegexSpecialCharacter.createFromToken=function(a){if(!a.isSpecialCharacter()){throw"[IKRS.RegexSpecialCharacter.createFromToken(...){static}] Cannot create RegExp from token '"+a.rawValue+"'. It seems not to be a special character. Does your parser work correctly?"}if(a.isBeginOfInputCharacter()){return new IKRS.RegexBeginOfInput(a)}else{if(a.isEndOfInputCharacter()){return new IKRS.RegexEndOfInput(a)}else{if(a.isWildcardCharacter()){return new IKRS.RegexWildcard(a)}else{if(a.isDigitClassCharacter()){return new IKRS.RegexDigit(a,false)}else{if(a.isNonDigitClassCharacter()){return new IKRS.RegexDigit(a,true)}else{if(a.isWhitespaceClassCharacter()){return new IKRS.RegexWhitespace(a,false)}else{if(a.isNonWhitespaceClassCharacter()){return new IKRS.RegexWhitespace(a,true)}else{if(a.isWordClassCharacter()){return new IKRS.RegexWord(a,false)}else{if(a.isNonWordClassCharacter()){return new IKRS.RegexWord(a,true)}else{throw"[IKRS.RegexSpecialCharacter.createFromToken(...){static}] Cannot create RegExp from token '"+a.rawValue+"'. It is a special character but does not match any expected case. Does your parser work correctly?"}}}}}}}}}};IKRS.RegexSpecialCharacter.prototype.constructor=IKRS.RegexSpecialCharacter;IKRS.RegexSpecialCharacter.prototype.getName=IKRS.Pattern.prototype.getName;IKRS.RegexSpecialCharacter.prototype.getValue=IKRS.Pattern.prototype.getValue;IKRS.RegexSpecialCharacter.prototype.getChildren=IKRS.Pattern.prototype.getChildren;IKRS.RegexSpecialCharacter.prototype.getAttributes=IKRS.Pattern.prototype.getAttributes;IKRS.RegexWhitespace=function(a,b){IKRS.RegexSpecialCharacter.call(this,a,(b?"NON-WHITESPACE[\\S]":"WHITESPACE[\\s]"));this.negate=b};IKRS.RegexWhitespace.prototype.match=function(b){var d=b.getMark();if(b.reachedEOI()||b.available()==0){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,d,b.getMark())]}else{var e=new String(""+b.read());var a=(e==" "||e=="\n"||e.charCodeAt(0)==11||e=="\t"||e=="\f");if((this.negate&&a)||(!this.negate&&!a)){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,d,b.getMark())]}else{return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,d,b.getMark())]}}};IKRS.RegexWhitespace.prototype.constructor=IKRS.RegexWhitespace;IKRS.RegexWhitespace.prototype.getName=IKRS.RegexSpecialCharacter.prototype.getName;IKRS.RegexWhitespace.prototype.getValue=IKRS.RegexSpecialCharacter.prototype.getValue;IKRS.RegexWhitespace.prototype.getChildren=IKRS.RegexSpecialCharacter.prototype.getChildren;IKRS.RegexWhitespace.prototype.getAttributes=IKRS.RegexSpecialCharacter.prototype.getAttributes;IKRS.RegexWhitespace.prototype.toString=IKRS.RegexSpecialCharacter.prototype.toString;IKRS.RegexDigit=function(a,b){IKRS.RegexSpecialCharacter.call(this,a,(b?"NON-DIGIT[\\D]":"DIGIT[\\s]"));this.negate=b};IKRS.RegexDigit.prototype.match=function(a){var d=a.getMark();if(a.reachedEOI()||a.available()==0){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,d,a.getMark())]}else{var e=new String(""+a.read());var b=(e.charCodeAt(0)>=48&&e.charCodeAt(0)<=57);if((this.negate&&b)||(!this.negate&&!b)){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,d,a.getMark())]}else{return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,d,a.getMark())]}}};IKRS.RegexDigit.prototype.constructor=IKRS.RegexDigit;IKRS.RegexDigit.prototype.getName=IKRS.RegexSpecialCharacter.prototype.getName;IKRS.RegexDigit.prototype.getValue=IKRS.RegexSpecialCharacter.prototype.getValue;IKRS.RegexDigit.prototype.getChildren=IKRS.RegexSpecialCharacter.prototype.getChildren;IKRS.RegexDigit.prototype.getAttributes=IKRS.RegexSpecialCharacter.prototype.getAttributes;IKRS.RegexDigit.prototype.toString=IKRS.RegexSpecialCharacter.prototype.toString;IKRS.RegexWord=function(a,b){IKRS.RegexSpecialCharacter.call(this,a,(b?"NON-WORD[\\W]":"WORD[\\w]"));this.negate=b};IKRS.RegexWord.prototype.match=function(a){var d=a.getMark();if(a.reachedEOI()||a.available()==0){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,d,a.getMark())]}else{var e=new String(""+a.read());var b=((e.charCodeAt(0)>=48&&e.charCodeAt(0)<=57)||(e.charCodeAt(0)>=97&&e.charCodeAt(0)<=122)||(e.charCodeAt(0)>=65&&e.charCodeAt(0)<=90)||e=="_");if((this.negate&&b)||(!this.negate&&!b)){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,d,a.getMark())]}else{return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,d,a.getMark())]}}};IKRS.RegexWord.prototype.constructor=IKRS.RegexWord;IKRS.RegexWord.prototype.getName=IKRS.RegexSpecialCharacter.prototype.getName;IKRS.RegexWord.prototype.getValue=IKRS.RegexSpecialCharacter.prototype.getValue;IKRS.RegexWord.prototype.getChildren=IKRS.RegexSpecialCharacter.prototype.getChildren;IKRS.RegexWord.prototype.getAttributes=IKRS.RegexSpecialCharacter.prototype.getAttributes;IKRS.RegexWord.prototype.toString=IKRS.RegexSpecialCharacter.prototype.toString;IKRS.RegexBeginOfInput=function(a){IKRS.RegexSpecialCharacter.call(this,a,"BEGIN-OF-INPUT[^]")};IKRS.RegexBeginOfInput.prototype.match=function(a){var c=a.getMark();var b=null;if(a.atBeginOfInput()){b=IKRS.MatchResult.STATUS_COMPLETE}else{b=IKRS.MatchResult.STATUS_FAIL}return[new IKRS.MatchResult(b,0,c,c)]};IKRS.RegexBeginOfInput.prototype.constructor=IKRS.RegexBeginOfInput;IKRS.RegexBeginOfInput.prototype.getName=IKRS.RegexSpecialCharacter.prototype.getName;IKRS.RegexBeginOfInput.prototype.getValue=IKRS.RegexSpecialCharacter.prototype.getValue;IKRS.RegexBeginOfInput.prototype.getChildren=IKRS.RegexSpecialCharacter.prototype.getChildren;IKRS.RegexBeginOfInput.prototype.getAttributes=IKRS.RegexSpecialCharacter.prototype.getAttributes;IKRS.RegexBeginOfInput.prototype.toString=IKRS.RegexSpecialCharacter.prototype.toString;IKRS.RegexEndOfInput=function(a){IKRS.RegexSpecialCharacter.call(this,a,"END-OF-INPUT[^]")};IKRS.RegexEndOfInput.prototype.match=function(a){var c=a.getMark();var b=null;if(a.reachedEOI()||a.available()==0){b=IKRS.MatchResult.STATUS_COMPLETE}else{b=IKRS.MatchResult.STATUS_FAIL}return[new IKRS.MatchResult(b,0,c,c)]};IKRS.RegexEndOfInput.prototype.constructor=IKRS.RegexEndOfInput;IKRS.RegexEndOfInput.prototype.getName=IKRS.RegexSpecialCharacter.prototype.getName;IKRS.RegexEndOfInput.prototype.getValue=IKRS.RegexSpecialCharacter.prototype.getValue;IKRS.RegexEndOfInput.prototype.getChildren=IKRS.RegexSpecialCharacter.prototype.getChildren;IKRS.RegexEndOfInput.prototype.getAttributes=IKRS.RegexSpecialCharacter.prototype.getAttributes;IKRS.RegexEndOfInput.prototype.toString=IKRS.RegexSpecialCharacter.prototype.toString;IKRS.RegexWildcard=function(a){IKRS.RegexSpecialCharacter.call(this,a,"WILDCARD[.]")};IKRS.RegexWildcard.prototype.match=function(a){var b=a.getMark();if(a.reachedEOI()||a.available()==0){return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_FAIL,0,b,a.getMark())]}else{a.read();return[new IKRS.MatchResult(IKRS.MatchResult.STATUS_COMPLETE,1,b,a.getMark())]}};IKRS.RegexWildcard.prototype.constructor=IKRS.RegexWildcard;IKRS.RegexWildcard.prototype.getName=IKRS.RegexSpecialCharacter.prototype.getName;IKRS.RegexWildcard.prototype.getValue=IKRS.RegexSpecialCharacter.prototype.getValue;IKRS.RegexWildcard.prototype.getChildren=IKRS.RegexSpecialCharacter.prototype.getChildren;IKRS.RegexWildcard.prototype.getAttributes=IKRS.RegexSpecialCharacter.prototype.getAttributes;IKRS.RegexWildcard.prototype.toString=IKRS.RegexSpecialCharacter.prototype.toString;